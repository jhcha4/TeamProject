<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mappers.lshboard-mapper">

	<select id="list" resultType="LshBoardVo">
		select * from tbl_product_board
		order by <include refid="type"/>p_num desc
	</select>
	
	<select id="single" resultType="LshBoardVo">
		select * from tbl_product_board
		where p_num = #{p_num}
	</select>
	
	<select id="MainList" resultType="LshBoardVo">
		select * from tbl_product_board
		where p_main = #{p_main}
		order by <include refid="type"/>p_num desc
	</select>
	
	<select id="ServeList" resultType="LshBoardVo">
		select * from tbl_product_board
		where p_serve = #{p_serve}
		order by <include refid="type"/>p_num desc
	</select>
	
	<sql id="type">
		<if test="priceType != null">
			<choose>
				<when test='priceType == "H"'>
					p_price desc,
				</when>
				<when test='priceType == "L"'>
					p_price,
				</when>
			</choose>
		</if>
	</sql>
	
</mapper>
